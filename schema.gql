schema {
  query: Queries
  mutation: Mutations
}

enum Sort {
  DateAdded
  Title
  Author
  Rating
}

type UserData {
  rating: Int,
  startedReading: DateTime,
  lastRead: DateTime
}

type Book {
  title: String!
  authors: [String!]!
  description: String!
  isbn: String!
  thumbnailUri: String!
  userData: UserData!
}

type Collection {
  name: String!
  books: [Book!]!
  preferredSort: Sort!
}

type Queries {
  books(
    titleKeywords: String,
    authorKeywords: String,
    maxResults: Int = 10,
    langRestrict: String = "en"
  ): [Book!]!
  book(isbn: String!, langRestrict: String = "en"): Book!
  collections: [Collection!]!
  collection(name: String!): Collection!
}

type Mutations {
  createCollection(name: String!, books: [Book!]): Collection!
  deleteCollection(name: String!): Boolean
  updateCollection(
    currentName: String!, newName: String, preferredSort: Sort
  ): Collection!
  addBook(collection: String!, book: Book!): Collection!
  removeBook(collection: String!, isbn: String!): Boolean
  startReading(book: Book!, date: DateTime): Book!
  finishReading(book: Book!, date: DateTime): Book!
  rateBook(book: Book!, rating: Int!): Book!
  createBook(book: Book!): Book!
}
